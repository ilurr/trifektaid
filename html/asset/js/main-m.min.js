let slider=document.querySelectorAll('[data-slider="true"]');function initSwipe(){let e=document.querySelectorAll("[data-swipe]");e&&e.forEach((function(e,t){getSwipe(e)}))}function initGuide(){let e=document.getElementById("discoverGuide"),t=document.getElementById("discoverGuideClose"),n=checkCookies("__gd_ds");e&&(n||e.classList.remove("-hide"),t&&t.addEventListener("click",(function(e){closeGuide()})))}function closeGuide(){let e=document.getElementById("discoverGuide");e&&(setCookies("__gd_ds",1,365),e.classList.add("-hide"))}function getSwipe(e){let t=new Hammer(e);t.on("pan",(function(t){e.classList.add("moving")})),t.on("pan",(function(e){if(0!==e.deltaX&&(0!==e.center.x||0!==e.center.y)){var t=.03*e.deltaX*(e.deltaY/80);e.target.style.transform="translate("+e.deltaX+"px, "+e.deltaY+"px) rotate("+t+"deg)"}})),t.on("panend",(function(t){e.classList.remove("moving"),closeGuide();var n=document.getElementById("discoverCard").clientWidth,i=Math.abs(t.deltaX)<125;if(t.target.classList.toggle("hide",!i),i)t.target.style.transform="";else{var o=Math.max(Math.abs(t.velocityX)*n,n),r=t.deltaX>0?o:-o,s=Math.abs(t.velocityY)*n,a=t.deltaY>0?s:-s,c=.03*t.deltaX*(t.deltaY/80);t.target.style.transform="translate("+r+"px, "+(a+t.deltaY)+"px) rotate("+c+"deg)"}}))}function rotateSwipe(e,t){t.classList.add("discover-"+e)}function setCookies(e,t,n){var i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3);var o="expires="+i.toGMTString();document.cookie=e+"="+t+";"+o+"; path=/; "}function getCookies(e){for(var t=e+"=",n=decodeURIComponent(document.cookie).split(";"),i=0;i<n.length;i++){for(var o=n[i];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return""}function checkCookies(e){return""!=getCookies(e)}slider&&slider.forEach((function(e){tns({container:e,navPosition:"bottom",controlsText:['<span class="icon-arrow icon-arrow-left"></span>','<span class="icon-arrow icon-arrow-right"></span>'],autoplay:!1,loop:!1,autoHeight:!0,lazyload:!0,mouseDrag:!0})}));let fb=document.querySelector('[data-toggle="filter"]');function openFilter(e){e.classList.add("-show")}function closeFilter(e){e.classList.remove("-show")}fb&&document.addEventListener("click",(function(e){let t=e.target.dataset.toggle,n=document.querySelector(".modal-open"),i=document.getElementById("discoverFilter");n?n.contains(e.target)||closeFilter(i):i&&(i.contains(e.target)||closeFilter(i)),t&&"filter"==t&&i&&openFilter(i)}));let dp=document.getElementById("discoverFilterPeople"),dpi=document.getElementById("discoverFilterPeopleItem");function setRadioActive(e,t){e&&(1==t?e.removeAttribute("disabled"):e.setAttribute("disabled","disabled"))}dp&&dpi&&dp.addEventListener("click",(function(e){let t=dp.checked,n=dpi.querySelectorAll('[type="radio"]');t?(dpi.classList.remove("-disabled"),n&&n.forEach((function(e){setRadioActive(e,1)}))):(dpi.classList.add("-disabled"),n&&n.forEach((function(e){setRadioActive(e,0)})))}));var rng=document.getElementById("discoverFilterRange");if(rng){var listener=function(){document.getElementById("discoverFilterRangeValue").innerHTML=rng.value};rng.addEventListener("mousedown",(function(){listener(),rng.addEventListener("mousemove",listener)})),rng.addEventListener("mouseup",(function(){rng.removeEventListener("mousemove",listener)})),rng.addEventListener("input",(function(){listener(),rng.addEventListener("change",listener)})),rng.addEventListener("change",(function(){listener(),rng.removeEventListener("input",listener)})),rng.addEventListener("keydown",listener)}let clr=document.getElementById("discoverLocationClear"),locSearch=document.getElementById("discoverLocationSearch"),locList=document.getElementById("discoverLocationList");clr&&locSearch&&locList&&clr.addEventListener("click",(function(e){locSearch.value="",locList.innerHTML="",locSearch.focus()}));let targ=document.getElementById("discoverLocationResult"),targ_inp=document.getElementById("discoverLocationResultInput");document.addEventListener("click",(function(e){if("send"==e.target.dataset.loc){let t=e.target.value;targ&&targ_inp&&(targ_inp.value=t,targ.innerHTML=t)}}));let rating=document.querySelectorAll("[data-rating]");function setRating(e){let t=parseFloat(e.getAttribute("data-rating"));if(t)return e.setAttribute("style","width:"+t/5*100+"%")}function openOverlay(e){e&&e.classList.add("-show")}function closeOverlay(e){e&&e.classList.remove("-show")}rating&&rating.length>0&&rating.forEach((function(e,t){setRating(e)})),document.addEventListener("click",(function(e){"true"==e.target.dataset.overlay&&closeOverlay(e.target)}));let sr=document.querySelector('[data-toggle="search"]'),sb=document.getElementById("searchBar");function triggerEvent(e,t){let n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!1),e.dispatchEvent(n)}sr&&sr.addEventListener("click",(function(e){sb&&((" "+this.className+" ").replace(/[\n\t]/g," ").indexOf("-active")>-1||(this.classList.add("-active"),sb.classList.add("-show"),sb.querySelector("form").firstElementChild.focus()))})),document.addEventListener("click",(function(e){sb&&sr&&(sb.contains(e.target)||sr.contains(e.target)||(sb.classList.remove("-show"),sr.classList.remove("-active")))}));let p=gca(".form-select");p&&p.forEach((function(e,t){let n=e.querySelector("select");n.addEventListener("change",(function(t){0==t.target.value?e.classList.add("init"):e.classList.remove("init")})),triggerEvent(n,"change")}));const tx=document.getElementById("post-content");function OnInput(){this.style.height="auto",this.style.height=this.scrollHeight+"px"}tx&&(tx.setAttribute("style","height:"+tx.scrollHeight+"px;overflow-y:hidden;"),tx.addEventListener("input",OnInput,!1)),$(".js-datepicker").datepicker({format:"dd M yyyy",container:"#js-datepicker-container",autoclose:!0,zIndexOffset:8,endDate:"0d"});